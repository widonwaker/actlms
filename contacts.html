<!DOCTYPE html> 
<html> 
	<head> 
	<meta charset="utf-8" /> 
	<title>Action Limos</title> 
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no"> 	 
	<link rel="stylesheet" href="themes/actionlimos.min.css" />
	<link rel="stylesheet" href="themes/jquery.mobile.icons.min.css" />
	<link rel="stylesheet" href="css/jquery.mobile.structure-1.4.5.min.css" />
	<script src="js/onesignal.js"></script>	
	<script src="js/jquery-2.1.4.min.js"></script>
	<script src="js/jquery.mobile-1.4.5.min.js"></script>
    <link href="css/style.css" rel="stylesheet" />
    <link href="css/font-awesome.min.css" rel="stylesheet" />
	    <style>
      #map {
        width: 100%;
        height: 50vh;
      }
    </style>
    <script src="http://maps.google.com/maps/api/js?sensor=true&amp;language=en-GB" type="text/javascript"></script>
    <script>
document.addEventListener("deviceready", onDeviceReady, false);

function onDeviceReady() {
var yourLatLng;
var resortLatLng;
var directionsService=new google.maps.DirectionsService();
$(this).ready(init);
function init() {
   watchID=navigator.geolocation.getCurrentPosition(positionOK, positionError);
}
function positionOK(position) {
   yourLat=position.coords.latitude;
   yourLgt=position.coords.longitude;
   resortLat=40.822567;
   resortLng=14.347115;
   yourLatLng=new google.maps.LatLng(yourLat, yourLgt);
   resortLatLng=new google.maps.LatLng(resortLat, resortLng);
   var mapOptions={
   zoom:11,
   center:yourLatLng,
   mapType:google.maps.MapTypeId.ROADMAP
}
  

var map=new google.maps.Map(document.getElementById("map"), mapOptions);
var myPosition=new google.maps.Marker({position:yourLatLng, map:map});
var resortPosition=new google.maps.Marker({position:resortLatLng, map:map});
directionsDisplay = new google.maps.DirectionsRenderer({
   'map': map,
   'preserveViewport': true,
   'draggable': false
});
directionsDisplay.setPanel(document.getElementById("infomap"));
google.maps.event.addListener(directionsDisplay, 'directions_changed', function() {
   if (currentDirections) {
      oldDirections.push(currentDirections);
      setUndoDisabled(false);
   }
   currentDirections = directionsDisplay.getDirections();
});
setUndoDisabled(false);
percorso();
}
function setUndoDisabled(value) {
   // do something;
}
function percorso() {
   var start = yourLatLng;
   var end = resortLatLng;
   var request = {
               origin:start,
               destination:end,
               travelMode: google.maps.DirectionsTravelMode.DRIVING
             };
   directionsService.route(request, function(response, status) {
          if (status == google.maps.DirectionsStatus.OK) {
              directionsDisplay.setDirections(response);
          }
   })
}
function positionError(error) {
   alert("Impossibile rilevare la tua posizione. Assicurarsi di abilitare la geolocalizzazione sul proprio dispositivo.");
}
}
</script>

</head> 
<body> 
 
<div data-role="page"> 


 
	<div data-role="header" data-position="fixed" data-tap-toggle="false"> 
		<img src="images/logo.png" class="logo"></img>
	</div><!-- /header --> 
    
    <div data-role="content">
    <div id="map"></div>

    <div id="infomap"></div>
    
       <div class="contacts">
          <h1>Action Limousines</h1>     
          <h2><i class="fa fa-map-marker"></i> 643 South Avenue, Garwood, NJ 07027 </h2> <br>
          <h2><i class="fa fa-phone-square"></i> <a href="tel:7327544660">732.754.4660</a></h2> <br>
          <h2><i class="fa fa-phone-square"></i> <a href="tel:7323887282">732.388.7282</a></h2> <br>
          <h2><i class="fa fa-envelope"></i> <a href="mailto:reservations@actionlimos.com">reservations @ actionlimos.com</a></h2><br>
          <h2><i class="fa fa-link"></i> <a href="#" onClick="cordova.InAppBrowser.open('http://www.actionlimos.com/', '_blank', 'location=no,toolbarposition=top,closebuttoncaption=Close')" >www.actionlimos.com/</a></h2>
       </div>
    </div>  
    
	
	<div data-role="footer" data-position="fixed" data-tap-toggle="false" class="nav-glyphish">
		<div data-role="navbar" class="nav-glyphish">
			<ul>
				<li><a href="#" onClick="location.href='index.html'"  id="hometab" data-icon="custom">Home</a></li>
                <!--<li><a href="#" id="tabB" data-icon="custom" >Services</a></li>-->
				<li><a href="#" id="contactstab" data-icon="custom" class="ui-btn-active">Contacts</a></li>
			</ul>
		</div><!-- /navbar -->
	</div><!-- /footer -->
    

       <!-- <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyC0v5wxPVBiEReFXpxq1iNeZHvleEVS8jQ&callback=initMap&language=ja&region=JP" async defer></script>-->
  
</div><!-- /page --> 
  


</body> 
</html> 
